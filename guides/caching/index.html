
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ceesem.github.io/datafolio/guides/caching/">
      
      
        <link rel="prev" href="../snapshots/">
      
      
        <link rel="next" href="../parquet-optimization/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Caching - DataFolio Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Bitter:300,300i,400,400i,700,700i%7CInconsolata:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Bitter";--md-code-font:"Inconsolata"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#caching-for-fast-remote-access" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DataFolio Documentation" class="md-header__button md-logo" aria-label="DataFolio Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DataFolio Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Caching
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/ceesem/datafolio" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    ceesem/datafolio
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  About

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../getting-started/" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/datafolio-api/" class="md-tabs__link">
          
  
  
    
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../changelog/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DataFolio Documentation" class="md-nav__button md-logo" aria-label="DataFolio Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DataFolio Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ceesem/datafolio" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    ceesem/datafolio
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Working with Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../snapshots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Snapshots
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Caching
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Caching
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-use-caching" class="md-nav__link">
    <span class="md-ellipsis">
      Why Use Caching?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Why Use Caching?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-problem" class="md-nav__link">
    <span class="md-ellipsis">
      The Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-solution-local-caching" class="md-nav__link">
    <span class="md-ellipsis">
      The Solution: Local Caching
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Start
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick Start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-cache-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Cache Directory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-caching-works" class="md-nav__link">
    <span class="md-ellipsis">
      How Caching Works
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How Caching Works">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cache-storage-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Storage Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checksum-based-invalidation" class="md-nav__link">
    <span class="md-ellipsis">
      Checksum-Based Invalidation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-options" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration Options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cache-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-enableddisabled" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Enabled/Disabled
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-bundles-shared-cache" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple Bundles, Shared Cache
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cache-management" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cache Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-cache-status" class="md-nav__link">
    <span class="md-ellipsis">
      Check Cache Status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear-cache" class="md-nav__link">
    <span class="md-ellipsis">
      Clear Cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate-specific-item" class="md-nav__link">
    <span class="md-ellipsis">
      Invalidate Specific Item
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refresh-cache" class="md-nav__link">
    <span class="md-ellipsis">
      Refresh Cache
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1-iterative-data-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Example 1: Iterative Data Analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2-model-training-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Example 2: Model Training Pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-3-team-collaboration" class="md-nav__link">
    <span class="md-ellipsis">
      Example 3: Team Collaboration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Use Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Use Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-development-with-cloud-data" class="md-nav__link">
    <span class="md-ellipsis">
      Local Development with Cloud Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cicd-pipelines" class="md-nav__link">
    <span class="md-ellipsis">
      CI/CD Pipelines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#offline-work" class="md-nav__link">
    <span class="md-ellipsis">
      Offline Work
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-enable-caching-for-remote-bundles" class="md-nav__link">
    <span class="md-ellipsis">
      1. Enable Caching for Remote Bundles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-fast-storage-for-cache" class="md-nav__link">
    <span class="md-ellipsis">
      2. Use Fast Storage for Cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-monitor-cache-size" class="md-nav__link">
    <span class="md-ellipsis">
      3. Monitor Cache Size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-clear-cache-when-switching-contexts" class="md-nav__link">
    <span class="md-ellipsis">
      4. Clear Cache When Switching Contexts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-use-separate-caches-for-different-projects" class="md-nav__link">
    <span class="md-ellipsis">
      5. Use Separate Caches for Different Projects
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interaction-with-parquet-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      Interaction with Parquet Filtering
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interaction with Parquet Filtering">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#without-caching-predicate-pushdown" class="md-nav__link">
    <span class="md-ellipsis">
      Without Caching (Predicate Pushdown)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with-caching-download-then-filter" class="md-nav__link">
    <span class="md-ellipsis">
      With Caching (Download Then Filter)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cache-not-working" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Not Working
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stale-cache-data" class="md-nav__link">
    <span class="md-ellipsis">
      Stale Cache Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-too-large" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Too Large
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permission-errors" class="md-nav__link">
    <span class="md-ellipsis">
      Permission Errors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-hits-not-improving-performance" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Hits Not Improving Performance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-cache-internals" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced: Cache Internals
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced: Cache Internals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cache-key-generation" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Key Generation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread-safety" class="md-nav__link">
    <span class="md-ellipsis">
      Thread Safety
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-locking" class="md-nav__link">
    <span class="md-ellipsis">
      Cache Locking
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-benchmarks" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Benchmarks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learn-more" class="md-nav__link">
    <span class="md-ellipsis">
      Learn More
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parquet-optimization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parquet Optimization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../reference/datafolio-api/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="caching-for-fast-remote-access">Caching for Fast Remote Access</h1>
<p>DataFolio's caching system dramatically speeds up access to cloud-stored data by maintaining a local copy. This guide shows you how to use caching effectively for remote bundles.</p>
<h2 id="why-use-caching">Why Use Caching?</h2>
<h3 id="the-problem">The Problem</h3>
<p>Working with cloud-stored bundles can be slow due to network latency:</p>
<pre><code class="language-python"># Remote bundle on S3
folio = DataFolio('s3://my-bucket/experiments/model_v1')

# Every access downloads from S3 (slow!)
df1 = folio.get_table('results')  # 30 seconds
df2 = folio.get_table('features') # 25 seconds
model = folio.get_model('classifier') # 15 seconds
# Total: 70 seconds just for data access
</code></pre>
<h3 id="the-solution-local-caching">The Solution: Local Caching</h3>
<p>Enable caching to download once, read many times:</p>
<pre><code class="language-python"># Enable caching
folio = DataFolio('s3://my-bucket/experiments/model_v1',
    cache_enabled=True)

# First access: Downloads and caches (30s)
df1 = folio.get_table('results')  # 30 seconds

# Second access: Reads from cache (fast!)
df1_again = folio.get_table('results')  # 0.1 seconds
# 300x faster! üöÄ
</code></pre>
<h2 id="quick-start">Quick Start</h2>
<h3 id="basic-usage">Basic Usage</h3>
<pre><code class="language-python">from datafolio import DataFolio

# Enable caching with defaults
folio = DataFolio('s3://my-bucket/data',
    cache_enabled=True)  # That's it!

# Work normally - caching is automatic
df = folio.get_table('my_data')  # Cached on first access
model = folio.get_model('my_model')  # Cached on first access

# Check cache statistics
status = folio.cache_status()
print(f&quot;Cache hits: {status['cache_hits']}&quot;)
print(f&quot;Cache misses: {status['cache_misses']}&quot;)
print(f&quot;Total size: {status['total_size_bytes'] / 1e9:.2f} GB&quot;)
</code></pre>
<h3 id="custom-cache-directory">Custom Cache Directory</h3>
<pre><code class="language-python"># Store cache on a fast SSD
folio = DataFolio('gs://my-bucket/data',
    cache_enabled=True,
    cache_dir='/fast/ssd/cache')

# Or use a specific directory for this bundle
folio = DataFolio('s3://bucket/experiment1',
    cache_enabled=True,
    cache_dir='/data/cache/experiment1')
</code></pre>
<h2 id="how-caching-works">How Caching Works</h2>
<h3 id="cache-storage-structure">Cache Storage Structure</h3>
<p>DataFolio creates a cache directory with this structure:</p>
<pre><code>~/.datafolio_cache/               # Default cache directory
‚îú‚îÄ‚îÄ bundles/
‚îÇ   ‚îî‚îÄ‚îÄ &lt;bundle-id&gt;/              # One directory per bundle
‚îÇ       ‚îú‚îÄ‚îÄ tables/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ results.parquet   # Cached table files
‚îÇ       ‚îú‚îÄ‚îÄ models/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ classifier.joblib # Cached model files
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ .locks/                       # Lock files for thread safety
</code></pre>
<p>With explicit <code>cache_dir</code>:</p>
<pre><code>/my/cache/                        # Your specified directory
‚îú‚îÄ‚îÄ tables/
‚îÇ   ‚îî‚îÄ‚îÄ results.parquet
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ classifier.joblib
‚îî‚îÄ‚îÄ ...
</code></pre>
<h3 id="cache-behavior">Cache Behavior</h3>
<ol>
<li><strong>First access</strong>: Downloads from remote ‚Üí saves to cache ‚Üí returns data</li>
<li><strong>Subsequent accesses</strong>: Reads from cache (no network access)</li>
<li><strong>Cache invalidation</strong>: Automatic when remote file changes</li>
</ol>
<pre><code class="language-python">folio = DataFolio('s3://bucket/data', cache_enabled=True)

# Access 1: Cache miss (downloads from S3)
df = folio.get_table('data')  # Downloads, caches, returns
# Status: 1 miss, 0 hits

# Access 2: Cache hit (reads from local cache)
df = folio.get_table('data')  # Reads from cache
# Status: 1 miss, 1 hit

# Access 3: Cache hit
df = folio.get_table('data')  # Reads from cache
# Status: 1 miss, 2 hits
</code></pre>
<h3 id="checksum-based-invalidation">Checksum-Based Invalidation</h3>
<p>DataFolio uses checksums to detect changes:</p>
<pre><code class="language-python">folio = DataFolio('s3://bucket/data', cache_enabled=True)

# First access: Downloads and caches
df1 = folio.get_table('results')  # Cache miss

# Meanwhile, someone updates the remote file...
# (e.g., another process overwrites results.parquet)

# Next access: Detects change, re-downloads
df2 = folio.get_table('results')  # Cache miss (checksum changed)
# Automatic cache invalidation! ‚úÖ
</code></pre>
<h2 id="configuration-options">Configuration Options</h2>
<h3 id="cache-directory">Cache Directory</h3>
<pre><code class="language-python"># Default: ~/.datafolio_cache/bundles/&lt;bundle-id&gt;
folio = DataFolio('s3://bucket/data', cache_enabled=True)

# Custom: Exact directory for this bundle
folio = DataFolio('s3://bucket/data',
    cache_enabled=True,
    cache_dir='/fast/ssd/my_cache')

# Environment variable
import os
os.environ['DATAFOLIO_CACHE_DIR'] = '/shared/cache'
folio = DataFolio('s3://bucket/data', cache_enabled=True)
</code></pre>
<h3 id="cache-enableddisabled">Cache Enabled/Disabled</h3>
<pre><code class="language-python"># Disable caching (default)
folio = DataFolio('s3://bucket/data')
# or explicitly:
folio = DataFolio('s3://bucket/data', cache_enabled=False)

# Enable caching
folio = DataFolio('s3://bucket/data', cache_enabled=True)

# Environment variable
os.environ['DATAFOLIO_CACHE_ENABLED'] = 'true'
folio = DataFolio('s3://bucket/data')  # Caching enabled
</code></pre>
<h3 id="multiple-bundles-shared-cache">Multiple Bundles, Shared Cache</h3>
<pre><code class="language-python"># Default cache_dir: Each bundle gets its own subdirectory
cache_base = '~/.datafolio_cache'  # Default

folio1 = DataFolio('s3://bucket/exp1', cache_enabled=True)
# Cache: ~/.datafolio_cache/bundles/&lt;exp1-id&gt;/

folio2 = DataFolio('s3://bucket/exp2', cache_enabled=True)
# Cache: ~/.datafolio_cache/bundles/&lt;exp2-id&gt;/

# Custom: Separate caches for different projects
folio_a = DataFolio('s3://bucket/project_a',
    cache_enabled=True,
    cache_dir='/cache/project_a')

folio_b = DataFolio('s3://bucket/project_b',
    cache_enabled=True,
    cache_dir='/cache/project_b')
</code></pre>
<h2 id="cache-management">Cache Management</h2>
<h3 id="check-cache-status">Check Cache Status</h3>
<pre><code class="language-python">folio = DataFolio('s3://bucket/data', cache_enabled=True)

# Work with data
df = folio.get_table('table1')
df = folio.get_table('table2')
model = folio.get_model('model1')

# Check cache statistics
status = folio.cache_status()

print(f&quot;Cache enabled: {status['cache_enabled']}&quot;)
print(f&quot;Cache directory: {status['cache_dir']}&quot;)
print(f&quot;Total files: {status['total_files']}&quot;)
print(f&quot;Total size: {status['total_size_bytes'] / 1e9:.2f} GB&quot;)
print(f&quot;Cache hits: {status['cache_hits']}&quot;)
print(f&quot;Cache misses: {status['cache_misses']}&quot;)
print(f&quot;Hit rate: {status['cache_hits'] / (status['cache_hits'] + status['cache_misses']) * 100:.1f}%&quot;)
</code></pre>
<p>Example output:</p>
<pre><code>Cache enabled: True
Cache directory: /Users/me/.datafolio_cache/bundles/abc123
Total files: 15
Total size: 2.3 GB
Cache hits: 45
Cache misses: 15
Hit rate: 75.0%
</code></pre>
<h3 id="clear-cache">Clear Cache</h3>
<pre><code class="language-python"># Clear entire cache for this bundle
folio.clear_cache()

# Verify cache is empty
status = folio.cache_status()
assert status['total_files'] == 0
assert status['total_size_bytes'] == 0
</code></pre>
<h3 id="invalidate-specific-item">Invalidate Specific Item</h3>
<pre><code class="language-python"># Force re-download on next access
folio.invalidate_cache('my_table')

# Next access will download fresh copy
df = folio.get_table('my_table')  # Cache miss (downloads)
</code></pre>
<h3 id="refresh-cache">Refresh Cache</h3>
<pre><code class="language-python"># Re-download all cached items
folio.refresh_cache()

# Useful when you know remote data has changed
# but checksums aren't updated yet
</code></pre>
<h2 id="performance-examples">Performance Examples</h2>
<h3 id="example-1-iterative-data-analysis">Example 1: Iterative Data Analysis</h3>
<pre><code class="language-python"># Working with cloud data in a Jupyter notebook
folio = DataFolio('s3://analytics/user_study',
    cache_enabled=True)

# Analysis iteration 1: Download data (slow)
df = folio.get_table('user_data')  # 45 seconds
df.head()

# Oops, need to filter differently
df_filtered = folio.get_table('user_data')  # 0.1 seconds (cached!)
df_filtered[df_filtered['age'] &gt; 18]

# Try different aggregation
df_agg = folio.get_table('user_data')  # 0.1 seconds (cached!)
df_agg.groupby('country').mean()

# Total time: 45s instead of 135s (3x access)
# Cache saved 90 seconds!
</code></pre>
<h3 id="example-2-model-training-pipeline">Example 2: Model Training Pipeline</h3>
<pre><code class="language-python"># Training pipeline with multiple runs
folio = DataFolio('s3://ml-data/experiment',
    cache_enabled=True,
    cache_dir='/fast/nvme/cache')

# First training run
df_train = folio.get_table('training_data')  # 2 minutes (5GB download)
df_test = folio.get_table('test_data')      # 1 minute (2GB download)
model = train_model(df_train, df_test)
# Total: 3 minutes data loading

# Second training run (different hyperparameters)
df_train = folio.get_table('training_data')  # 0.5 seconds (cached!)
df_test = folio.get_table('test_data')      # 0.2 seconds (cached!)
model = train_model(df_train, df_test)
# Total: 0.7 seconds data loading

# 10 training runs: 3 min + (9 √ó 0.7s) = ~3.1 minutes
# Without caching: 10 √ó 3 min = 30 minutes
# Cache saved 27 minutes! üöÄ
</code></pre>
<h3 id="example-3-team-collaboration">Example 3: Team Collaboration</h3>
<pre><code class="language-python"># Shared cache on network drive
folio = DataFolio('s3://team-bucket/shared-analysis',
    cache_enabled=True,
    cache_dir='/nfs/team-cache/analysis')

# Alice downloads data first
df = folio.get_table('large_dataset')  # 10 minutes (downloads)

# Bob uses same cache later
folio_bob = DataFolio('s3://team-bucket/shared-analysis',
    cache_enabled=True,
    cache_dir='/nfs/team-cache/analysis')
df_bob = folio_bob.get_table('large_dataset')  # 5 seconds (from cache!)

# Charlie also benefits
folio_charlie = DataFolio('s3://team-bucket/shared-analysis',
    cache_enabled=True,
    cache_dir='/nfs/team-cache/analysis')
df_charlie = folio_charlie.get_table('large_dataset')  # 5 seconds!

# Team total: 10 min + 5s + 5s vs 30 min without cache
</code></pre>
<h2 id="use-cases">Use Cases</h2>
<h3 id="local-development-with-cloud-data">Local Development with Cloud Data</h3>
<pre><code class="language-python"># Develop locally with production data from S3
folio = DataFolio('s3://production/analytics',
    cache_enabled=True)

# First run: Downloads data
df = folio.get_table('transactions')  # Slow
# Develop your analysis...

# Restart notebook, re-run cells: Reads from cache (fast!)
df = folio.get_table('transactions')  # Fast
# Much better development experience!
</code></pre>
<h3 id="cicd-pipelines">CI/CD Pipelines</h3>
<pre><code class="language-python"># Cache data across CI runs
import os

# In CI environment
cache_dir = os.environ.get('CI_CACHE_DIR', '/tmp/cache')
folio = DataFolio('s3://ml-models/production',
    cache_enabled=True,
    cache_dir=cache_dir)

# First CI run: Downloads models
model = folio.get_model('production_model')  # Downloads
run_tests(model)

# Subsequent CI runs: Uses cache
model = folio.get_model('production_model')  # From cache
run_tests(model)  # Much faster CI!
</code></pre>
<h3 id="offline-work">Offline Work</h3>
<pre><code class="language-python"># Pre-populate cache while online
folio = DataFolio('s3://bucket/data',
    cache_enabled=True,
    cache_dir='/local/cache')

# Download everything while connected
df1 = folio.get_table('data1')
df2 = folio.get_table('data2')
model = folio.get_model('model')

# Now work offline (airplane, no internet)
# All data available from cache!
df1 = folio.get_table('data1')  # Works offline! ‚úàÔ∏è
</code></pre>
<h2 id="best-practices">Best Practices</h2>
<h3 id="1-enable-caching-for-remote-bundles">1. Enable Caching for Remote Bundles</h3>
<pre><code class="language-python"># Good: Enable caching for cloud bundles
folio = DataFolio('s3://bucket/data', cache_enabled=True)

# Unnecessary: Don't cache local bundles
folio = DataFolio('/local/path/data')  # Already local
</code></pre>
<h3 id="2-use-fast-storage-for-cache">2. Use Fast Storage for Cache</h3>
<pre><code class="language-python"># Best: NVMe SSD
folio = DataFolio('s3://bucket/data',
    cache_enabled=True,
    cache_dir='/nvme/cache')

# Good: Regular SSD
cache_dir='/ssd/cache'

# Slow: HDD (still faster than network!)
cache_dir='/hdd/cache'
</code></pre>
<h3 id="3-monitor-cache-size">3. Monitor Cache Size</h3>
<pre><code class="language-python"># Check cache size periodically
status = folio.cache_status()
cache_gb = status['total_size_bytes'] / 1e9

if cache_gb &gt; 100:  # If cache &gt; 100GB
    print(f&quot;Cache is large: {cache_gb:.1f} GB&quot;)
    print(&quot;Consider clearing old data&quot;)
    # folio.clear_cache()
</code></pre>
<h3 id="4-clear-cache-when-switching-contexts">4. Clear Cache When Switching Contexts</h3>
<pre><code class="language-python"># Finished with this analysis
folio = DataFolio('s3://bucket/old_analysis', cache_enabled=True)
# ... work done ...
folio.clear_cache()  # Free up disk space

# Start new analysis
folio = DataFolio('s3://bucket/new_analysis', cache_enabled=True)
</code></pre>
<h3 id="5-use-separate-caches-for-different-projects">5. Use Separate Caches for Different Projects</h3>
<pre><code class="language-python"># Project A
folio_a = DataFolio('s3://bucket/project_a',
    cache_enabled=True,
    cache_dir='/cache/project_a')

# Project B
folio_b = DataFolio('s3://bucket/project_b',
    cache_enabled=True,
    cache_dir='/cache/project_b')

# Easy to manage and clear separately
</code></pre>
<h2 id="interaction-with-parquet-filtering">Interaction with Parquet Filtering</h2>
<p>Caching affects Parquet filtering performance:</p>
<h3 id="without-caching-predicate-pushdown">Without Caching (Predicate Pushdown)</h3>
<pre><code class="language-python"># No caching: Filter on S3, download only matching rows
folio = DataFolio('s3://bucket/data')  # cache_enabled=False

df = folio.get_table('huge_table',
    filters=[('country', '==', 'US')],
    engine='pyarrow')
# Downloads: ~1GB (filtered data only)
# Time: 30 seconds
</code></pre>
<h3 id="with-caching-download-then-filter">With Caching (Download Then Filter)</h3>
<pre><code class="language-python"># With caching: Download full file, then filter locally
folio = DataFolio('s3://bucket/data', cache_enabled=True)

# First access: Downloads full file
df = folio.get_table('huge_table',
    filters=[('country', '==', 'US')],
    engine='pyarrow')
# Downloads: 100GB (full file)
# Time: 10 minutes
# But subsequent accesses are very fast!

# Second access: Filters cached file
df_ca = folio.get_table('huge_table',
    filters=[('country', '==', 'CA')],
    engine='pyarrow')
# Downloads: 0GB (from cache)
# Time: 5 seconds
</code></pre>
<p><strong>Guideline</strong>: For one-time queries on large files, disable caching to use predicate pushdown. For repeated queries, enable caching.</p>
<p>See <a href="../parquet-optimization/">Parquet Optimization Guide</a> for more details.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="cache-not-working">Cache Not Working</h3>
<p><strong>Problem</strong>: Data still downloads every time</p>
<p><strong>Check</strong>:</p>
<pre><code class="language-python">status = folio.cache_status()
print(f&quot;Cache enabled: {status['cache_enabled']}&quot;)
print(f&quot;Cache dir: {status['cache_dir']}&quot;)
print(f&quot;Cache hits: {status['cache_hits']}&quot;)
</code></pre>
<p><strong>Solutions</strong>:
- Verify <code>cache_enabled=True</code> in constructor
- Check cache directory is writable
- Check disk space available</p>
<h3 id="stale-cache-data">Stale Cache Data</h3>
<p><strong>Problem</strong>: Cache contains old data</p>
<p><strong>Solution</strong>:</p>
<pre><code class="language-python"># Option 1: Invalidate specific item
folio.invalidate_cache('my_table')

# Option 2: Refresh all cache
folio.refresh_cache()

# Option 3: Clear and rebuild
folio.clear_cache()
df = folio.get_table('my_table')  # Fresh download
</code></pre>
<h3 id="cache-too-large">Cache Too Large</h3>
<p><strong>Problem</strong>: Cache consuming too much disk space</p>
<p><strong>Solutions</strong>:</p>
<pre><code class="language-python"># Check current size
status = folio.cache_status()
print(f&quot;Cache size: {status['total_size_bytes'] / 1e9:.2f} GB&quot;)

# Clear cache
folio.clear_cache()

# Or: Use smaller cache_dir with limited space
folio = DataFolio('s3://bucket/data',
    cache_enabled=True,
    cache_dir='/limited/disk/cache')  # E.g., 50GB partition
</code></pre>
<h3 id="permission-errors">Permission Errors</h3>
<p><strong>Problem</strong>: Can't write to cache directory</p>
<p><strong>Solution</strong>:</p>
<pre><code class="language-python"># Use a directory you have write access to
folio = DataFolio('s3://bucket/data',
    cache_enabled=True,
    cache_dir='/home/me/datafolio_cache')  # Your home directory

# Or create directory first
import os
os.makedirs('/tmp/my_cache', exist_ok=True)
folio = DataFolio('s3://bucket/data',
    cache_enabled=True,
    cache_dir='/tmp/my_cache')
</code></pre>
<h3 id="cache-hits-not-improving-performance">Cache Hits Not Improving Performance</h3>
<p><strong>Problem</strong>: Cache hits still slow</p>
<p><strong>Possible causes</strong>:
1. <strong>Slow cache storage</strong>: HDD instead of SSD
   <code>python
   # Move cache to faster storage
   folio = DataFolio('s3://bucket/data',
       cache_enabled=True,
       cache_dir='/fast/ssd/cache')  # Use SSD</code></p>
<ol>
<li>
<p><strong>Large files</strong>: Even local reads take time
   <code>python
   # Use column selection to read less data
   df = folio.get_table('huge_table',
       columns=['id', 'value'])  # Smaller, faster</code></p>
</li>
<li>
<p><strong>CPU bottleneck</strong>: Parquet decompression
   <code>python
   # Check if CPU is bottleneck
   import time
   start = time.time()
   df = folio.get_table('compressed_data')
   print(f"Time: {time.time() - start:.2f}s")
   # If slow despite cache hit, compression/CPU may be bottleneck</code></p>
</li>
</ol>
<h2 id="advanced-cache-internals">Advanced: Cache Internals</h2>
<h3 id="cache-key-generation">Cache Key Generation</h3>
<p>DataFolio generates cache keys based on:
- Item name
- Item type (table, model, etc.)
- Checksum (if available)</p>
<pre><code class="language-python"># Internally, cache key might be:
# tables/my_data.parquet ‚Üí cached as &lt;cache_dir&gt;/tables/my_data.parquet
</code></pre>
<h3 id="thread-safety">Thread Safety</h3>
<p>Cache operations are thread-safe:</p>
<pre><code class="language-python">from concurrent.futures import ThreadPoolExecutor

folio = DataFolio('s3://bucket/data', cache_enabled=True)

def load_table(name):
    return folio.get_table(name)

# Multiple threads can safely access cache
with ThreadPoolExecutor(max_workers=4) as executor:
    futures = [executor.submit(load_table, f'table_{i}') for i in range(10)]
    results = [f.result() for f in futures]
# No race conditions! ‚úÖ
</code></pre>
<h3 id="cache-locking">Cache Locking</h3>
<p>DataFolio uses file locks to prevent corruption:</p>
<pre><code>~/.datafolio_cache/
‚îî‚îÄ‚îÄ .locks/
    ‚îî‚îÄ‚îÄ &lt;bundle-id&gt;.lock  # Lock file for this bundle
</code></pre>
<h2 id="performance-benchmarks">Performance Benchmarks</h2>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>No Cache</th>
<th>With Cache (First)</th>
<th>With Cache (Subsequent)</th>
<th>Speedup</th>
</tr>
</thead>
<tbody>
<tr>
<td>100MB S3 file</td>
<td>5s</td>
<td>5s</td>
<td>0.1s</td>
<td>50x</td>
</tr>
<tr>
<td>1GB S3 file</td>
<td>45s</td>
<td>45s</td>
<td>0.5s</td>
<td>90x</td>
</tr>
<tr>
<td>10GB S3 file</td>
<td>8m</td>
<td>8m</td>
<td>5s</td>
<td>96x</td>
</tr>
<tr>
<td>100GB S3 file</td>
<td>80m</td>
<td>80m</td>
<td>45s</td>
<td>107x</td>
</tr>
<tr>
<td>10 small files</td>
<td>30s</td>
<td>30s</td>
<td>1s</td>
<td>30x</td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: Speedup is for cache hits. First access has no speedup (must download).</p>
<h2 id="summary">Summary</h2>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Description</th>
<th>Command</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Enable caching</strong></td>
<td>Cache remote data locally</td>
<td><code>cache_enabled=True</code></td>
</tr>
<tr>
<td><strong>Set cache dir</strong></td>
<td>Specify cache location</td>
<td><code>cache_dir='/path'</code></td>
</tr>
<tr>
<td><strong>Check status</strong></td>
<td>View cache statistics</td>
<td><code>folio.cache_status()</code></td>
</tr>
<tr>
<td><strong>Clear cache</strong></td>
<td>Delete all cached files</td>
<td><code>folio.clear_cache()</code></td>
</tr>
<tr>
<td><strong>Invalidate item</strong></td>
<td>Force re-download</td>
<td><code>folio.invalidate_cache('name')</code></td>
</tr>
<tr>
<td><strong>Refresh cache</strong></td>
<td>Re-download everything</td>
<td><code>folio.refresh_cache()</code></td>
</tr>
</tbody>
</table>
<p><strong>When to use caching:</strong>
- ‚úÖ Remote bundles (S3, GCS, etc.)
- ‚úÖ Repeated data access
- ‚úÖ Iterative development
- ‚úÖ Team collaboration with shared cache
- ‚úÖ Offline work preparation</p>
<p><strong>When NOT to use caching:</strong>
- ‚ùå Local bundles (already fast)
- ‚ùå One-time data access
- ‚ùå Limited disk space
- ‚ùå Very large files with selective filters (use predicate pushdown)</p>
<h2 id="learn-more">Learn More</h2>
<ul>
<li><a href="../getting-started/">Getting Started Guide</a> - Basic DataFolio usage</li>
<li><a href="../parquet-optimization/">Parquet Optimization Guide</a> - Filtering and column selection</li>
<li><a href="../snapshots/">Snapshots Guide</a> - Version your cached data</li>
<li><a href="../../reference/datafolio-api/">DataFolio API Reference</a> - Cache management methods</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes", "navigation.instant", "navigation.prune", "navigation.tabs", "navigation.tabs.sticky", "toc.follow", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "header.autohide"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>